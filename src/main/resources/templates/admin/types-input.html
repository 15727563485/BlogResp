<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.w3.org/1999/xhtml">
<head th:replace="admin/adminFragments::head(~{::title})">
    <meta name="viewport" content="width=device-width,initial-scale=1.0">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>分类管理</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/semantic-ui@2.4.2/dist/semantic.min.css">
    <link rel="stylesheet" href="../static/css/style.css" th:href="@{/css/style.css}">
</head>
<body>
<!-- 一级导航栏 -->
<nav th:replace="admin/adminFragments::firstMenu(2)" class="ui attached inverted segment m-padding-tb-tiny">
    <div class="ui container">
        <div class="ui inverted secondary stackable menu">
            <h2 class="ui teal header item m-padding-tb-mini">博客后台管理</h2>
            <a href="" th:href="@{/admin/adminIndex}" class=" m-item item m-mobile-hide"><i class="home icon"></i> 博客</a>
            <a href="" th:href="@{/admin/typesControl}" class="active m-item item m-mobile-hide"><i class="idea icon"></i> 分类</a>
            <a href="" th:href="@{/admin/tagsControl}" class="m-item item m-mobile-hide"><i class="tags icon"></i> 标签</a>
            <!-- 头像部分 -->
            <div class="right menu m-padding-tb-mini m-mobile-hide">
                <div class="ui dropdown basic black item">
                    <a href="#">
                        <img src="../static/images/photo-1612360263279-ab106f58faf9.jpg" th:src="@{/images/photo-1612360263279-ab106f58faf9.jpg}" alt="" class="ui avatar image">
                        周飘
                    </a>
                    <i class="dropdown icon"></i>
                    <div class="inverted menu">
                        <a href="" class="item">我的信息</a>
                        <a href="" class="item">修改密码</a>
                        <a href="" th:href="@{/admin/logout}" class="item">注销登录</a>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <a href="#" class="ui basic black button m-absolute m-top-right m-mobile-show m-padding-small menu-show-button">
        <i class="sidebar inverted icon" style="margin:auto ;"></i>
    </a>
</nav>
<nav  class="ui teal attached secondary pointing menu" style="background-color: white;">
    <div class="ui container">
        <div class="right menu">
            <a href="#" th:href="@{/admin/typesControl/input}" class="active item">分类编辑</a>
            <a href="#" th:href="@{/admin/typesControl}"  class="item">分类列表</a>
        </div>
    </div>
</nav>
<!-- 主体中间内容 -->
<div class="m-padding-tb-large">
    <div class="ui container">
        <form action="#" method="post" th:action="*{id}==null ? @{/admin/typesAdd} : @{/admin/typesControl/{id}/typesUpadte(id=*{id})} " th:object="${type}" class="ui form">
            <input type="hidden" name="id" th:value="*{id}">
            <div class="field">
                <div class="ui left labeled input m-margin-top">
                    <label class="ui teal basic label">分类名称</label>
                    <input type="text" name="name" placeholder="分类名称" th:value="*{name}" >
                </div>
            </div>
            <div class="ui error message"></div>
            <div class="ui right aligned container">
                <button type="button" class="ui button" onclick="window.history.go(-1)" >返回</button>
                <button class="ui teal submit button">提交</button>
            </div>

        </form>
    </div>
</div>
<script src="https://cdn.staticfile.org/jquery/1.10.2/jquery.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/semantic-ui@2.4.2/dist/semantic.min.js"></script>
<script>

    $(".menu-show-button").click(function(){
        $(".m-item").toggleClass("m-mobile-hide");
    });

    $('.ui.dropdown').dropdown({
        on:'hover',
    });

    $('.ui.selection.dropdown').dropdown({
        on: 'click'
    });
    $("#addType").click(function () {
        $('.ui.modal').modal('show');
    });

    $("#submit").click(function () {
        $("#typeInput").submit();
    });
    $('.ui.form').form({
        fields: {
            name: {
                identifier: 'name',
                rules: [
                    {
                        type: 'empty',
                        prompt: '请输入分类名称！'
                    }
                ]
            }
        }
    });
    $('.message .close')
        .on('click', function() {
            $(this).
            closest('.message').
            transition('fade');
        });
    function updateType(id) {
        alert(id.toString());
    }
</script>
</body>
</html>